{% extends "base.html" %}

{% block title %}{{ 'Premium Banana Leaves Export' if lang == 'en' else 'Ekspor Daun Pisang Premium' }}{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section bg-success bg-gradient text-white py-5">
    <div class="container">
        <div class="row align-items-center min-vh-50">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-4">
                    {% if settings %}
                        {{ settings.company_name_en if lang == 'en' else settings.company_name_id }}
                    {% else %}
                        {{ 'Agricultural Export Indonesia' if lang == 'en' else 'Ekspor Pertanian Indonesia' }}
                    {% endif %}
                </h1>
                <p class="lead mb-4">
                    {% if settings %}
                        {{ settings.company_description_en if lang == 'en' else settings.company_description_id }}
                    {% else %}
                        {{ 'High-quality, fresh banana leaves sourced directly from Indonesian plantations for your international business needs.' if lang == 'en' else 'Daun pisang segar berkualitas tinggi yang bersumber langsung dari perkebunan Indonesia untuk kebutuhan bisnis internasional Anda.' }}
                    {% endif %}
                </p>
                <div class="mb-3">
                    <span class="badge bg-light text-success fs-6 me-2">
                        <i class="fas fa-leaf me-1"></i>{{ 'Banana Leaves' if lang == 'en' else 'Daun Pisang' }}
                    </span>
                    <span class="badge bg-light text-success fs-6 me-2">
                        <i class="fas fa-seedling me-1"></i>{{ 'Cocofit' if lang == 'en' else 'Cocofit' }}
                    </span>
                    <span class="badge bg-light text-success fs-6 me-2">
                        <i class="fas fa-fire me-1"></i>{{ 'Charcoal' if lang == 'en' else 'Arang' }}
                    </span>
                    <span class="badge bg-light text-success fs-6 me-2">
                        <i class="fas fa-spa me-1"></i>{{ 'Rice Husk' if lang == 'en' else 'Sekam Padi' }}
                    </span>
                </div>
                <div class="mb-3">
                    <small class="text-white" style="opacity: 0.9;">
                        <i class="fas fa-map-marker-alt me-1"></i>
                        {{ 'Showing prices in' if lang == 'en' else 'Menampilkan harga dalam' }} {{ currency }}
                        {% if currency == 'IDR' %}
                            {{ '(Indonesian Rupiah)' if lang == 'en' else '(Rupiah Indonesia)' }}
                        {% else %}
                            {{ '(US Dollar)' if lang == 'en' else 'Dolar Amerika)' }}
                        {% endif %}
                    </small>
                </div>

                <div class="d-flex gap-3">
                    <a href="{{ url_for('products') }}" class="btn btn-light btn-lg">
                        <i class="fas fa-shopping-bag me-2"></i>
                        {{ 'Browse Products' if lang == 'en' else 'Jelajahi Produk' }}
                    </a>
                    {% if settings and settings.contact_whatsapp %}
                    <a href="https://wa.me/{{ settings.contact_whatsapp.replace('+', '').replace('-', '') }}"
                       class="btn btn-outline-light btn-lg">
                        <i class="fab fa-whatsapp me-2"></i>
                        {{ 'Contact Us' if lang == 'en' else 'Hubungi Kami' }}
                    </a>
                    {% endif %}
                </div>
            </div>
            <div class="col-lg-6">
                <div class="text-center">
                    <i class="fas fa-leaf display-1 text-light opacity-50"></i>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h2 class="display-5 fw-bold">{{ 'Why Choose Our Agricultural Products?' if lang == 'en' else 'Mengapa Memilih Produk Pertanian Kami?' }}</h2>
                <p class="lead text-muted">{{ 'We provide the finest quality Indonesian agricultural products with international standards' if lang == 'en' else 'Kami menyediakan produk pertanian Indonesia berkualitas terbaik dengan standar internasional' }}</p>
            </div>
        </div>

        <div class="row g-4">
            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="bg-success bg-opacity-10 rounded-circle p-3 d-inline-flex mb-3">
                            <i class="fas fa-certificate text-success fa-2x"></i>
                        </div>
                        <h5 class="card-title">{{ 'Premium Quality' if lang == 'en' else 'Kualitas Premium' }}</h5>
                        <p class="card-text text-muted">
                            {{ 'Fresh, organic agricultural products harvested at the perfect time for maximum quality and durability.' if lang == 'en' else 'Produk pertanian segar organik yang dipanen pada waktu yang tepat untuk kualitas dan daya tahan maksimal.' }}
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="bg-success bg-opacity-10 rounded-circle p-3 d-inline-flex mb-3">
                            <i class="fas fa-globe text-success fa-2x"></i>
                        </div>
                        <h5 class="card-title">{{ 'Shipping Services' if lang == 'en' else 'Layanan Pengiriman' }}</h5>
                        <p class="card-text text-muted">
                            {% if lang == 'en' %}
                                <strong>üáÆüá© Indonesia:</strong> Fast domestic shipping (1-3 days)<br>
                                <strong>üåç International:</strong> Worldwide shipping with proper export documentation
                            {% else %}
                                <strong>üáÆüá© Indonesia:</strong> Pengiriman dalam negeri cepat (1-3 hari)<br>
                                <strong>üåç Internasional:</strong> Pengiriman ke seluruh dunia dengan dokumentasi ekspor lengkap
                            {% endif %}
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="bg-success bg-opacity-10 rounded-circle p-3 d-inline-flex mb-3">
                            <i class="fas fa-handshake text-success fa-2x"></i>
                        </div>
                        <h5 class="card-title">{{ 'Trusted Partner' if lang == 'en' else 'Mitra Terpercaya' }}</h5>
                        <p class="card-text text-muted">
                            {{ 'Years of experience in export business with satisfied customers across multiple continents.' if lang == 'en' else 'Pengalaman bertahun-tahun dalam bisnis ekspor dengan pelanggan yang puas di berbagai benua.' }}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Product Categories -->
{% if categories %}
<section class="py-5 bg-light">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h2 class="display-5 fw-bold">{{ 'Product Categories' if lang == 'en' else 'Kategori Produk' }}</h2>
                <p class="lead text-muted">{{ 'Explore our wide range of agricultural export products' if lang == 'en' else 'Jelajahi berbagai macam produk ekspor pertanian kami' }}</p>
            </div>
        </div>

        <div class="row g-4">
            {% for category in categories %}
            <div class="col-md-6 col-lg-4">
                <div class="card h-100 border-0 shadow-sm category-card">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-start">
                            <div class="bg-success bg-opacity-10 rounded p-2 me-3">
                                <i class="fas fa-leaf text-success"></i>
                            </div>
                            <div class="flex-grow-1">
                                <h5 class="card-title">{{ category.name_en if lang == 'en' else category.name_id }}</h5>
                                <p class="card-text text-muted">{{ category.description_en if lang == 'en' else category.description_id }}</p>
                                <a href="{{ url_for('products', category=category.id) }}" class="btn btn-outline-success">
                                    {{ 'View Products' if lang == 'en' else 'Lihat Produk' }}
                                    <i class="fas fa-arrow-right ms-1"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Featured Products -->
{% if featured_products %}
<section class="py-5">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h2 class="display-5 fw-bold">{{ 'Featured Products' if lang == 'en' else 'Produk Unggulan' }}</h2>
                <p class="lead text-muted">{{ 'Our most popular banana leaf products' if lang == 'en' else 'Produk daun pisang paling populer kami' }}</p>
            </div>
        </div>

        <div class="row g-4">
            {% for product in featured_products %}
            <div class="col-md-6 col-lg-4">
                <div class="card h-100 border-0 shadow product-card hover-lift">
                    {% if product.image_url %}
                    <div class="position-relative overflow-hidden">
                        <img src="{{ product.image_url }}" alt="{{ product.name_en if lang == 'en' else product.name_id }}"
                             class="card-img-top object-fit-cover" style="height: 250px;">
                        <div class="position-absolute top-0 start-0 m-3">
                            <span class="badge bg-success fs-6">{{ product.category.name_en if lang == 'en' else product.category.name_id }}</span>
                        </div>
                        {% if product.stock_quantity > 0 %}
                        <div class="position-absolute top-0 end-0 m-3">
                            <span class="badge bg-light text-success fs-6">
                                <i class="fas fa-check me-1"></i>{{ 'In Stock' if lang == 'en' else 'Tersedia' }}
                            </span>
                        </div>
                        {% endif %}
                    </div>
                    {% else %}
                    <div class="position-relative">
                        <div class="card-img-top bg-gradient"
                             style="height: 250px; background: linear-gradient(45deg, #198754, #20c997);
                                    display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-leaf text-white" style="font-size: 4rem; opacity: 0.9;"></i>
                        </div>
                        <div class="position-absolute top-0 start-0 m-3">
                            <span class="badge bg-white text-success fs-6">{{ product.category.name_en if lang == 'en' else product.category.name_id }}</span>
                        </div>
                        {% if product.stock_quantity > 0 %}
                        <div class="position-absolute top-0 end-0 m-3">
                            <span class="badge bg-white text-success fs-6">
                                <i class="fas fa-check me-1"></i>{{ 'In Stock' if lang == 'en' else 'Tersedia' }}
                            </span>
                        </div>
                        {% endif %}
                    </div>
                    {% endif %}

                    <div class="card-body p-4 d-flex flex-column">
                        <h5 class="card-title fw-bold mb-2" style="color: #212529;">{{ product.name_en if lang == 'en' else product.name_id }}</h5>
                        <p class="card-text mb-3 flex-grow-1" style="color: #6c757d;">{{ (product.description_en if lang == 'en' else product.description_id)[:120] }}...</p>

                        <div class="mb-3">
                            <div class="d-flex align-items-center mb-2">
                                <span class="h4 fw-bold mb-0" style="color: #198754;">{{ format_currency(get_product_price(product, currency), currency, lang) }}</span>
                                <small class="text-dark ms-2">/ {{ product.unit }}</small>
                            </div>

                            <!-- Show currency conversion info -->
                            {% if currency == 'USD' %}
                                <small class="text-dark d-block">
                                    <i class="fas fa-exchange-alt me-1"></i>
                                    {{ 'Base price:' if lang == 'en' else 'Harga dasar:' }} {{ format_currency(get_product_price(product, 'IDR'), 'IDR', lang) }}
                                    <span class="badge bg-secondary text-white ms-1">{{ '1 USD = Rp {:,.0f}'.format(USD_TO_IDR_RATE) }}</span>
                                </small>
                            {% elif currency == 'IDR' %}
                                <small class="text-dark d-block">
                                    <i class="fas fa-info-circle me-1"></i>
                                    {{ 'Base currency' if lang == 'en' else 'Mata uang dasar' }}
                                    <span class="badge bg-success text-white ms-1">{{ 'IDR' }}</span>
                                </small>
                            {% endif %}

                            <small class="text-dark d-block mt-1">
                                <i class="fas fa-box me-1"></i>{{ 'Min. order:' if lang == 'en' else 'Min. pesan:' }} {{ product.min_order_quantity }} {{ product.unit }}
                            </small>
                        </div>

                        <div class="d-grid">
                            <a href="{{ url_for('product_detail', product_id=product.id) }}" class="btn btn-success">
                                <i class="fas fa-eye me-2"></i>{{ 'View Details' if lang == 'en' else 'Lihat Detail' }}
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="text-center mt-5">
            <a href="{{ url_for('products') }}" class="btn btn-success btn-lg">
                {{ 'View All Products' if lang == 'en' else 'Lihat Semua Produk' }}
                <i class="fas fa-arrow-right ms-2"></i>
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- Contact Section -->
<section id="contact" class="py-5 bg-dark text-light">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h2 class="display-5 fw-bold">{{ 'Contact Us for Export Inquiries' if lang == 'en' else 'Hubungi Kami untuk Pertanyaan Ekspor' }}</h2>
                <p class="lead text-muted">{{ 'Ready to place your international order?' if lang == 'en' else 'Siap untuk melakukan pemesanan internasional?' }}</p>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="row g-4">
                    <div class="col-md-4 text-center">
                        <div class="p-4">
                            <div class="bg-success bg-opacity-20 rounded-circle p-3 d-inline-flex mb-3">
                                <i class="fas fa-envelope text-success fa-2x"></i>
                            </div>
                            <h5>{{ 'Email Us' if lang == 'en' else 'Email Kami' }}</h5>
                            <p class="text-muted">
                                {% if settings %}{{ settings.contact_email }}{% else %}info@bananaexport.com{% endif %}
                            </p>
                        </div>
                    </div>

                    <div class="col-md-4 text-center">
                        <div class="p-4">
                            <div class="bg-success bg-opacity-20 rounded-circle p-3 d-inline-flex mb-3">
                                <i class="fab fa-whatsapp text-success fa-2x"></i>
                            </div>
                            <h5>{{ 'WhatsApp' if lang == 'en' else 'WhatsApp' }}</h5>
                            <p class="text-muted">
                                {% if settings %}{{ settings.contact_whatsapp }}{% else %}+62-812-3456-7890{% endif %}
                            </p>
                        </div>
                    </div>

                    <div class="col-md-4 text-center">
                        <div class="p-4">
                            <div class="bg-success bg-opacity-20 rounded-circle p-3 d-inline-flex mb-3">
                                <i class="fas fa-phone text-success fa-2x"></i>
                            </div>
                            <h5>{{ 'Call Us' if lang == 'en' else 'Telepon Kami' }}</h5>
                            <p class="text-muted">
                                {% if settings %}{{ settings.contact_phone }}{% else %}+62-21-12345678{% endif %}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}